(function(r,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(r=typeof globalThis<"u"?globalThis:r||self,o(r["@emotionagency/utils"]={}))})(this,function(r){"use strict";var S=Object.defineProperty;var x=(r,o,s)=>o in r?S(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s;var u=(r,o,s)=>x(r,typeof o!="symbol"?o+"":o,s);function o(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function s(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:o(e[n])&&o(t[n])&&Object.keys(e[n]).length>0&&s(t[n],e[n])})}const d={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function y(){const t=typeof document<"u"?document:{};return s(t,d),t}const A={document:d,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return t},cancelAnimationFrame(t){return t}};function f(){const t=typeof window<"u"?window:{};return s(t,A),t}const m=f();class p{constructor(){u(this,"cbArray");u(this,"raf");u(this,"lastTime",performance.now());this.cbArray=[],this.animation=this.animation.bind(this),this.animation(0)}on(e){this.cbArray.push(e)}off(e){this.cbArray=this.cbArray.filter(n=>n!==e)}animation(e){const n=performance.now(),i=n-this.lastTime;this.lastTime=n,this.cbArray.forEach(a=>a(e,i)),m&&(this.raf=m.requestAnimationFrame(this.animation))}destroy(){m&&m.cancelAnimationFrame(this.raf),this.cbArray=[]}}const l=new p,v={on:t=>l.on(t),off:t=>l.off(t),destroy:()=>l.destroy()},c=f();class w{constructor(){u(this,"cbArray");this.cbArray=[],this.init()}bounds(){["resizeHandler"].forEach(n=>{this[n]=this[n].bind(this)})}init(){this.bounds(),typeof c<"u"&&c.addEventListener("resize",this.resizeHandler)}resizeHandler(){this.cbArray.forEach(e=>e())}on(e){e(),this.cbArray.push(e)}off(e){this.cbArray=this.cbArray.filter(n=>n!==e)}match(e,n){let i;e.startsWith("<")?i=`(max-width: ${e.slice(1)})`:e.startsWith(">")?i=`(min-width: ${e.slice(1)})`:i=`(min-width: ${e})`;const a=c.matchMedia(i);a.matches&&n(),a.onchange=()=>{a.matches&&n()}}destroy(){typeof c<"u"&&c.removeEventListener("resize",this.resizeHandler)}}const h=new w,E={on:t=>h.on(t),off:t=>h.off(t),match:(t,e)=>h.match(t,e),destroy:()=>h.destroy()},b=(t,e,n)=>t*(1-n)+e*n,g=(t,e,n)=>Math.max(Math.min(t,Math.max(e,n)),Math.min(e,n)),z=y(),T=(t,e)=>{const n=z.createElement(t);return n.classList.add(e),n},$=(t={})=>{const e={scale:t.scale??{x:1,y:1},move:t.move??{x:0,y:0,z:0}},n=Object.keys(e).map(i=>typeof e[i]=="string"||typeof e[i]=="number"?{x:e[i],y:e[i],z:e[i]}:e[i]);return`matrix3d(
    ${n[0].x??1},0,0,0,
    0,${n[0].y??1},0,0,
    0,0,1,0,
    ${n[1].x??0},${n[1].y??0},${n[1].z??0},1
    )`},M=(t=0)=>new Promise(e=>{setTimeout(()=>{e()},t)}),F=t=>{let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*i));return e};r.clamp=g,r.createNewElement=T,r.delayPromise=M,r.keysGenerator=F,r.lerp=b,r.matrixTransform=$,r.raf=v,r.resize=E,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
